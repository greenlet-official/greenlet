<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Greenlet â€” Login</title><link rel="stylesheet" href="style.css"><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script><script src="firebase.js"></script></head><body><div class="content"><h1 class="page-title">Login</h1><div class="panel form"><input id="email" placeholder="Email" /><input id="password" placeholder="Password" type="password" /><button onclick="login()">Login</button><p class="small">Use the credentials you registered with.</p><p id="msg" class="small"></p></div></div><script>async function login(){try{const email=document.getElementById('email').value;const pass=document.getElementById('password').value;const cred=await auth.signInWithEmailAndPassword(email,pass);const doc=await db.collection('users').doc(cred.user.uid).get();const r=doc.exists?doc.data().role:'pending';if(r==='pending'){document.getElementById('msg').innerText='Awaiting admin approval.';auth.signOut();return;}location.href='stats.html';}catch(e){document.getElementById('msg').innerText=e.message;}};</script></body></html>