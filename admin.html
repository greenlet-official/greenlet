<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Greenlet â€” Admin Panel</title><link rel="stylesheet" href="style.css"><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-firestore-compat.js"></script><script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script><script src="firebase.js"></script><script src="app.js"></script></head><body><script>renderSidebar()</script><div class="content"><div class="page-title">Admin Panel</div><div id="adminArea" class="panel"></div></div><script>requireAuth(async (user)=>{const ok=await isAdmin(user.uid);if(!ok) return document.getElementById('adminArea').innerText='Access denied';const snap=await db.collection('users').get();const el=document.getElementById('adminArea');snap.forEach(d=>{const u=d.data();const div=document.createElement('div');div.className='msg';div.innerHTML=`<div><strong>${u.username||d.id}</strong> <div class="small">role: ${u.role||'member'}</div><div><button onclick="setRole('${d.id}','member')">Member</button> <button onclick="setRole('${d.id}','admin')">Admin</button> <button onclick="setRole('${d.id}','owner')">Owner</button></div></div>`;el.appendChild(div);});});window.setRole=async(uid,role)=>{await db.collection('users').doc(uid).update({role});alert('updated');};</script></body></html>